# src/app/_lib/ UI 유틸리티

@/CLAUDE.md
@../CLAUDE.md

UI 컴포넌트에서 사용하는 공통 유틸리티 함수들을 관리합니다.

## 역할과 목적

**UI 레이어 전용 헬퍼 함수 모음**입니다. 컴포넌트 렌더링, 스타일링, 데이터 표시에 필요한 순수 함수들을 제공하며, 비즈니스 로직과 분리된 프레젠테이션 관련 기능만 담당합니다.

## 구조

```
src/app/_lib/
├── cn.ts                # Tailwind 클래스 네임 병합 (clsx + twMerge)
├── formatDate.ts        # 날짜 표시 포맷팅 (한국어)
├── getTagColor.ts       # 태그별 일관된 색상 생성 (해시 기반)
├── formatDate.test.ts   # 날짜 포맷팅 테스트
└── getTagColor.test.ts  # 태그 색상 테스트
```

## 핵심 특징

### 순수 함수 원칙
모든 함수는 사이드 이펙트 없이 동일한 입력에 대해 항상 동일한 출력을 보장합니다. UI 렌더링 성능과 예측 가능성을 위해 중요합니다.

### Tailwind CSS 통합
`cn()` 함수는 shadcn/ui 생태계 표준 패턴으로, 조건부 클래스와 클래스 충돌 해결을 담당합니다.

### 테스트 우선 개발
모든 유틸리티 함수는 대응하는 테스트 파일을 가지며, 엣지 케이스와 에러 상황을 포함한 완전한 테스트 커버리지를 유지합니다.

## 주요 함수

### cn (Class Name)
- clsx와 tailwind-merge 결합으로 조건부 스타일링 지원
- shadcn/ui 표준 패턴

### formatDate
- dayjs 기반 한국어 날짜 포맷팅
- ISO 날짜 → "YYYY. M. D" 형식 변환
- 유효하지 않은 날짜 안전 처리

### getTagColor
- FNV-1a 해시 기반 태그별 일관된 색상 생성
- 17개 Tailwind 색상 팔레트 순환
- 동일 태그 = 동일 색상 보장

## 다른 영역과의 관계

- **src/app/_components/**: UI 컴포넌트들이 이 유틸리티들을 import하여 사용
- **shadcn/ui**: cn() 함수는 모든 shadcn/ui 컴포넌트에서 사용
- **테스트 환경**: Vitest로 모든 함수의 단위 테스트 실행

## 작업 시 주의사항

- 모든 새 함수는 대응하는 테스트 파일 생성 필수
- 비즈니스 로직 포함 금지 (도메인 레이어 역할)
- 순수 함수 원칙 엄격 준수
- 외부 라이브러리 의존성 최소화