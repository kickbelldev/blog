# src/domain/ 도메인 로직

@/CLAUDE.md

비즈니스 로직과 데이터 처리를 담당하는 도메인 레이어입니다.

## 역할과 목적

**도메인 중심 설계의 핵심 영역**으로 UI와 완전히 분리된 비즈니스 로직을 관리합니다. 블로그 애플리케이션의 모든 데이터 처리, 관계 분석, 비즈니스 규칙을 이 레이어에서 담당합니다.

## 구조

```
src/domain/
└── blog/              # 블로그 도메인 - 포스트, 카테고리, 태그 관리
    ├── index.ts       # 공개 API + 모듈 레벨 캐싱
    ├── types.ts       # 도메인 타입 정의  
    └── logic/         # 세부 비즈니스 로직
```

## 핵심 특징

### 모듈 레벨 캐싱
빌드 타임에 모든 MDX 파일을 파싱하고 관계를 분석하여 정적 데이터로 사전 생성합니다. SSG 환경에서 최적의 성능을 위해 런타임 계산을 최소화합니다.

### 복합 관계 분석  
단순한 CRUD를 넘어 태그 간 그래프 관계, 클러스터 분석, 관련 포스트 추천 등 복잡한 비즈니스 로직을 처리합니다.

### 완전한 UI 분리
이 레이어의 코드는 React, Next.js 등 UI 프레임워크에 의존하지 않습니다. 순수한 TypeScript 로직으로만 구성되어 테스트와 재사용이 용이합니다.

## 다른 영역과의 관계

- **src/app/**: 도메인 API를 import하여 UI에 데이터 제공
- **src/contents/**: MDX 파일을 읽어 도메인 객체로 변환
- **외부 라이브러리**: graphology, dayjs 등 비즈니스 로직에 필요한 도구만 사용

## 작업 시 주의사항

- UI 관련 코드 (React, CSS 등) 절대 포함 금지
- 모든 함수는 순수 함수로 작성 (사이드 이펙트 없음)
- 캐싱된 데이터 구조 변경 시 전체 빌드 영향 고려
- 새로운 도메인 추가 시 기존 blog 패턴 참고